---
const items = await Astro.glob("../pages/why/*.md");
---

<ul role="list" class="grid">
  {
    items.map((post) => (
      <li>
        <h3>{post.frontmatter.title}</h3>
        <div set:html={post.compiledContent()} />
        {post.frontmatter.sources && <h4>Sources:</h4>}
        <ul class="sources">
          {post.frontmatter.sources &&
            post.frontmatter.sources.map((source) => (
              <li>
                <a href={source.url}>{source.title}</a>
              </li>
            ))}
        </ul>
      </li>
    ))
  }
</ul>

<style>
  .grid {
    display: grid;
    gap: var(--space-m-l);
    max-width: 55rem;
    margin: var(--space-2xl) auto 0;
    padding: 0;
  }

  @media (min-width: 600px) {
    .grid {
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }
  }

  h3 {
    font-size: var(--step-2);
  }

  h4 {
    font-size: 1rem;
    margin-top: var(--space-s);
  }

  li {
    text-align: center;
  }

  .sources {
    font-size: 1rem;
    list-style: none;
    padding: 0;
  }
</style>
